<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="7 Harjoitus 6: Paikkatietoaineiston editointi | Introduction to QGIS" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Ltd." />

<meta name="date" content="2021-12-07" />


<meta name="description" content="7 Harjoitus 6: Paikkatietoaineiston editointi | Introduction to QGIS">

<title>7 Harjoitus 6: Paikkatietoaineiston editointi | Introduction to QGIS</title>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Introduction to QGIS</h1></div>
<div class="abstract-sidebar"><p>A course covering advanced GeoServer topics.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li><a href="index.html#introduction-to-qgis"><span class="toc-section-number">1</span> Introduction to QGIS</a>
<ul>
<li><a href="index.html#about"><span class="toc-section-number">1.1</span> About</a></li>
<li><a href="index.html#license-and-permissions"><span class="toc-section-number">1.2</span> License and permissions</a></li>
</ul></li>
<li><a href="00_kansi.html#harjoitus-1-qgisin-käyttöliittymä"><span class="toc-section-number">2</span> Harjoitus 1: QGISin käyttöliittymä</a>
<ul>
<li><a href="00_kansi.html#valmistautuminen"><span class="toc-section-number">2.0.1</span> Valmistautuminen</a></li>
<li><a href="00_kansi.html#kurssimateriaalien-lataus"><span class="toc-section-number">2.0.2</span> Kurssimateriaalien lataus</a></li>
<li><a href="00_kansi.html#qgisin-käyttöliittymä"><span class="toc-section-number">2.0.3</span> QGISin käyttöliittymä</a></li>
<li><a href="00_kansi.html#kokeile-itse"><span class="toc-section-number">2.0.4</span> Kokeile itse</a></li>
</ul></li>
<li><a href="02_env.html#training-environment"><span class="toc-section-number">3</span> Training environment</a></li>
<li><a href="02_harjoitus_2.html#harjoitus-2-paikkatietoaineistot-ja--palvelut"><span class="toc-section-number">4</span> Harjoitus 2: Paikkatietoaineistot ja -palvelut</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><span class="toc-section-number">4.0.1</span> Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#wms-palvelun-lisääminen"><span class="toc-section-number">4.0.2</span> WMS-palvelun lisääminen</a></li>
<li><a href="02_harjoitus_2.html#wfs-palvelun-lisääminen"><span class="toc-section-number">4.0.3</span> WFS-palvelun lisääminen</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-wfs-rajapintapalvelun-kysely-ja-suodatus-sql-lausekkeella"><span class="toc-section-number">4.0.4</span> Lisätehtävä: WFS-rajapintapalvelun kysely ja suodatus SQL-lausekkeella</a></li>
<li><a href="03_harjoitus_3.html#harjoitus-3-paikkatietoaineiston-visualisointi"><span class="toc-section-number">4.1</span> Harjoitus 3: Paikkatietoaineiston visualisointi</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><span class="toc-section-number">4.1.1</span> Valmistautuminen</a></li>
<li><a href="03_harjoitus_3.html#vektoriaineistojen-visualisointi"><span class="toc-section-number">4.1.2</span> Vektoriaineistojen visualisointi</a></li>
<li><a href="03_harjoitus_3.html#monikulmioaineiston-edistynyt-visualisointi"><span class="toc-section-number">4.1.3</span> Monikulmioaineiston edistynyt visualisointi</a></li>
<li><a href="03_harjoitus_3.html#rasteriaineistojen-visualisointi"><span class="toc-section-number">4.1.4</span> Rasteriaineistojen visualisointi</a></li>
</ul></li>
</ul></li>
<li><a href="04_harjoitus_4.html#harjoitus-4-paikkatietoaineiston-nimiöinti-ja-luokittelu"><span class="toc-section-number">5</span> Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><span class="toc-section-number">5.0.1</span> Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#nimiöiden-tyyli--ja-yleisasetukset"><span class="toc-section-number">5.0.2</span> Nimiöiden tyyli- ja yleisasetukset</a></li>
<li><a href="04_harjoitus_4.html#rasteriaineiston-luokittelut"><span class="toc-section-number">5.0.3</span> Rasteriaineiston luokittelut</a></li>
<li><a href="04_harjoitus_4.html#lisätehtävä-nimiöiden-piirtäminen"><span class="toc-section-number">5.0.4</span> Lisätehtävä: nimiöiden piirtäminen</a></li>
</ul></li>
<li><a href="05_harjoitus_5.html#harjoitus-5-karttatuloste"><span class="toc-section-number">6</span> Harjoitus 5: Karttatuloste</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><span class="toc-section-number">6.0.1</span> Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#karttatuloste"><span class="toc-section-number">6.0.2</span> Karttatuloste</a></li>
<li><a href="05_harjoitus_5.html#lisätehtävä-kartta-atlas"><span class="toc-section-number">6.0.3</span> Lisätehtävä: kartta-atlas</a></li>
</ul></li>
<li><a href="06_harjoitus_6.html#harjoitus-6-paikkatietoaineiston-editointi"><span class="toc-section-number">7</span> Harjoitus 6: Paikkatietoaineiston editointi</a>
<ul>
<li><a href="06_harjoitus_6.html#valmistautuminen-5"><span class="toc-section-number">7.0.1</span> Valmistautuminen</a></li>
<li><a href="06_harjoitus_6.html#vektoriaineiston-geopackage-luominen"><span class="toc-section-number">7.0.2</span> Vektoriaineiston (GeoPackage) luominen</a></li>
<li><a href="06_harjoitus_6.html#digitoitavan-tason-tietorakenne"><span class="toc-section-number">7.0.3</span> Digitoitavan tason tietorakenne</a></li>
<li><a href="06_harjoitus_6.html#pohjakartan-lisääminen"><span class="toc-section-number">7.0.4</span> Pohjakartan lisääminen</a></li>
<li><a href="06_harjoitus_6.html#digitoinnin-aloittaminen"><span class="toc-section-number">7.0.5</span> Digitoinnin aloittaminen</a></li>
<li><a href="06_harjoitus_6.html#lisätehtävä-cad-digitointi"><span class="toc-section-number">7.0.6</span> Lisätehtävä: CAD-digitointi</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-6-paikkatietoaineiston-editointi" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Harjoitus 6: Paikkatietoaineiston editointi</h1>
<div id="harjoituksen-sisältö-5" class="section level4" number="7.0.0.1">
<h4><span class="header-section-number">7.0.0.1</span> Harjoituksen sisältö</h4>
<p>Harjoituksessa digitoidaan uusi vektorimuotoinen paikkatietoaineisto.
#### Harjoituksen tavoite
Opiskelija oppii kuinka paikkatietoaineistoja tuotetaan ja editoidaan.</p>
</div>
<div id="valmistautuminen-5" class="section level3" number="7.0.1">
<h3><span class="header-section-number">7.0.1</span> Valmistautuminen</h3>
<p>Luo uusi QGIS-projekti ja tallenna se nimellä (<strong>Projekti → Tallenna nimellä…</strong>) “<strong>QGIS_harjoitus_6</strong>”.</p>
</div>
<div id="vektoriaineiston-geopackage-luominen" class="section level3" number="7.0.2">
<h3><span class="header-section-number">7.0.2</span> Vektoriaineiston (GeoPackage) luominen</h3>
<p>Luodaan uusi GeoPackage-aineisto valitsemalla työkalupalkista Uusi <strong>GeoPackage-taso…</strong>
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image21.png" alt="uusi_geopackage_tase_image" />
Tee alla näkyvät valinnat <strong>GeoPackage-ikkunaan</strong>. Muista nimetä aineisto sopivalla tavalla (tässä esim. alueet), valitse <strong>Geometriatyyppi-kohtaan MultiPolygoni</strong>, valitse koordinaattijärjestelmäksi ETRS89 / TM35FIN(E,N) EPSG:3067 (harjoittelemme digitointia Espoossa käytössämme Suomen valtakunnallinen tasokoordinaattijärjestelmä TM35FIN). Muista vielä lopuksi lisätä <strong>Nimi-attribuutti Lisää ominaisuustietolistaan -toiminnolla</strong>.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image14.png" alt="geopackage_ikkuna_image" />
Avaa juuri luomasi tason attribuuttitaulukko ja tarkista, että se on tyhjä. Tarkista myös, että määrittelemäsi kentät näkyvät sarakkeina.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image4.png" alt="attribuuttitaulukko_image" />
<strong>Fid-kenttä</strong> muodostuu automaattisesti ja <strong>Nimi-kentän</strong> loimme itse äskeisessä määrittelyikkunassa.
Tarkastellaan nyt attribuutteja lähemmin <strong>Tason ominaisuudet -ikkunassa</strong>. Avaa juuri luomasi Alueet-tason Tason ominaisuudet -ikkuna ja valitse vasemmalta <strong>Attribuutit (aikaisemmin Fields)</strong>. Attribuutit-välilehdessä pystytään muokkaamaan attribuuttitaulun tietorakennetta. Aseta muokkaus päälle klikkaamalla kynäikonia. Uuden kentän pystyt lisäämään <strong>Uusi kenttä -painikkeesta</strong>, joka on varustettu keltaisella tähti-ikonilla.
Anna uudelle kentälle nimi “<strong>aluetyyppi</strong>” ja aseta tyypiksi “<strong>Teksti</strong>” ylläolevan kuvan mukaisesti. Klikkaa <strong>OK</strong> lisätäksesi uuden kentän listaan. Klikkaa tämän jälkeen uudestaan kynäikonia lopettaaksesi muokkauksen ja tallenna muutokset.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image1.png" alt="aluetyyppi" /></p>
</div>
<div id="digitoitavan-tason-tietorakenne" class="section level3" number="7.0.3">
<h3><span class="header-section-number">7.0.3</span> Digitoitavan tason tietorakenne</h3>
<p>Jatketaan edelleen <strong>Tason ominaisuudet -ikkunassa</strong>. Valitse nyt vasemmalta <strong>Attribuuttilomake-välilehti</strong>. Tässä välilehdessä voit määrittää sääntöjä ja rajoituksia laatimillesi tietokentille (ts. taulun sarakkeille). Kyseiset määritykset auttavat säilyttämään tietorakenteen sekä itse tiedon laadun ja helpottavat myös digitointia.
Valitse <strong>Käytettävissä olevista käyttöliittymäelementit -kohdasta</strong> aluetyyppi-kenttä ja valitse <strong>Muokkauksen tyyppi -kohdasta Arvoluettelo</strong> alla olevan kuvan tapaan. Mikäli et näe nyt aluetyyppi-saraketta, sulje vielä <strong>Tason ominaisuudet -ikkuna</strong> ja avaa se uudelleen.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image11.png" alt="arvoluettelo_image" />
Arvoluettelon avulla käyttäjän on mahdollista määrittää arvoja vetovalikosta editointia tehdessään. Muokkaa soluja tuplaklikkaamalla. Määritä arvot kuvassa näkyvän luettelon mukaisesti. Kirjaa myös aluetyypeille kuvaukset halutessasi. Kuvauksista on hyötyä yleisesti tietorakenteiden eheyden ylläpitämiseksi. Kun olet valmis, klikkaa <strong>OK</strong> palataksesi karttanäkymään.</p>
</div>
<div id="pohjakartan-lisääminen" class="section level3" number="7.0.4">
<h3><span class="header-section-number">7.0.4</span> Pohjakartan lisääminen</h3>
<p>Voit käyttää digitoinnin pohjana Maanmittauslaitoksen ilmakuvia. Lisää nyt ortoilmakuva <strong>L4131F.jp2-rasteritiedosto</strong> kansiosta <strong>…/kurssihakemisto/MML/Ortoilmakuvat/</strong> QGISiin. Muista, että myös rasteriaineistot saat käyttöösi helposti raahaamalla tiedoston karttaikkunaan tai <strong>Tasot-paneeliin</strong>.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image13.png" alt="maanmittauslaitoksen_ilmakuvia_image" /></p>
</div>
<div id="digitoinnin-aloittaminen" class="section level3" number="7.0.5">
<h3><span class="header-section-number">7.0.5</span> Digitoinnin aloittaminen</h3>
<p>Valitse kartalta mieleisesi alue, jota lähdet digitoimaan. Zoomaa tarpeeksi lähelle, jotta erotat digitoitavat alueet hyvin (esim. rakennukset).
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image3.png" alt="esim_rakennukset" />
<strong>Tarttumisen työkalut</strong> - työkalupalkin saa kiinnitettyä käyttöliittymään (ellei se jo siinä ole) joko…
1 … painamalla QGISin käyttöliittymän reunoilla hiiren oikealla ja rastittamalla Työkalut-kohdan alta Tarttumisen työkalut tai sitten
2 … avaamalla erillisen ikkunan tarttumisen asetuksille ylämenusta Työkalut → Tarttumisen työkalut.
Aktivoi itse työkalu käyttöösi työkalupakistasi löytyvästä punaisesta <strong>magneetti-ikonista</strong> ja aseta sen asetukset seuraavasti.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image9.png" alt="magneetti_image" />
Asetuksissa määritetään tarttumiseen käytettävä yksikkö (metri) ja etäisyys (5 metriä). Lisäksi asetetaan tarttumisen kohdistuvan aktiiviseen tasoon, sen taitepisteisiin ja/tai segmentteihin sekä myös <strong>Topologinen muokkaus</strong> ja <strong>Tarttuminen risteyksessä</strong> (Snapping on intersection).
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image7.png" alt="digitointi_image" />
Klikkaa seuraavaksi <strong>Lisää monikulmiokohde -työkalua</strong> ja aloita digitointi.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image17.png" alt="lisaa_monikulmiokohde_image" />
Muista, että voit muokata <strong>Tarttumisen asetuksia</strong> palaamalla yllä kuvattuun ikkunaan ja jättämällä se ikkunan sivuun muokataksesi asetuksia nopeasti. Digitoi nyt 5-8 polygonia. Kun olet valmis, klikkaa jälleen kynä-ikonia lopettaaksesi ja tallentaaksesi editoinnin.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image18.gif" alt="tarttumisen_asetuksia_gif_image" />
Päällekkäisten kohteiden syntymisen voi myös välttää alla olevan animaation tavalla.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image19.gif" alt="paallekaisten_kohteiden_image" /></p>
<p>Tämän saavuttaaksesi voit aktivoida <strong>Vältä leikkauksia -valinnan</strong> päälle <strong>Avaa tarttumisen asetukset… -valikosta</strong>. Avaa ensin <strong>Tarttumisen työkalut -paneelista Avaa tarttumisen asetukset</strong>.</p>
<p><img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image12.png" alt="avaa_tarttumisen_valinnat_image" />
Näin sinulle aukeaa alla olevan mukainen tarttumisen asetukset määrittelyikkuna, jossa voit tehdä määrityksiä muun muassa leikkausten suhteen. Leikkauksilla viitataan tässä kohteiden niin sanottuihin intersektioihin.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image16.png" alt="valta_leikkauksia_image" />
&gt; Psst! Muista tallentaa QGIS-projekti harjoituksen lopuksi.</p>
</div>
<div id="lisätehtävä-cad-digitointi" class="section level3" number="7.0.6">
<h3><span class="header-section-number">7.0.6</span> Lisätehtävä: CAD-digitointi</h3>
<p>Voit kokeilla myös CAD-pohjaista digitointia, joka on kehittynyt verrattain paljon QGISin uudessa versiossa. Työkalut saat esiin lisäämällä <strong>Digitoinnin lisätyökalut</strong> -ylämenusta <strong>Näytä → Työkalut → Digitoinnin lisätyökalut</strong>.
Kokeile erilaisia työkaluja, esimerkiksi Täytä piiri -työkalua. Tätä voit hyödyntää esimerkkitapauksena peltoja digitoidessa. Kuvitellaan, että peltojen sisään jää aina välillä pieniä metsäsaarekkeita, jotka olisi digitoitava
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image8.png" alt="tayta_piiri_image" />
metsä-kohteiksi. <strong>Täytä piiri -työkalulla</strong> pystyt irrottamaan alueen omaksi objektiksi (ks. kuva alla).
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image2.png" alt="metsa_image" />
### Lisätehtävä: ominaisuustietojen lisääminen
Seuraavaksi laskemme pinta-alan ominaisuustietoja edellä muodostettuun paikkatietoaineistoon. Avaa Alueet-tason ominaisuustietotaulu (attribuuttitaulu).
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image15.png" alt="avaa_alueet_tase_image" />
Laita muokkaustila taas päälle kynäikonista ja muokkaa muutamaa Nimi-kentän alueen nimeä samalla tavalla kun tekisit laskentataulussa (tuplaklikkaamalla). Huomaa, että muokkaaminen on mahdollista vain jos muokkaustila on päällä.
Avaa nyt <strong>Kentän arvojen laskin -työkalu</strong> seuraavan pikakuvakkeen avulla:
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image5.jpg" alt="avaa_arvojen_laskin_image" />
Tällä toiminnolla voimme luoda uusia tai päivittää jo olemassa olevia ominaisuustietotaulun kenttiä. Pinta-alan laskentaa varten muunnetaan neliömetrit neliökilmetreiksi jakamalla pinta-ala 1 000 000:lla. Kirjoitetaan <strong>Lauseke-kenttään</strong> kaava <strong>$area / 1000000</strong>.
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image10.jpg" alt="kentan_arvojen_laskin_image" />
Painamalla <strong>OK</strong> saat laskettua kunkin alueen pinta-alan omaan kenttäänsä:
<img src="GP002_johdanto_qgisin_kayttoon/src/img/harjoitus_6/image20.jpg" alt="omaan_kenttaansa" /></p>

</div>
</div>
<p style="text-align: center;">
<a href="05_harjoitus_5.html"><button class="btn btn-default">Previous</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Introduction to QGIS</h5>
<span class="footer-version">v2021-12-07</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Ltd.
<span class="footer-copyright-year">© 2021</span></h5>
<span class="footer-contact-info">Kalevankatu 31
<br>00100 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>

</body>
</html>
